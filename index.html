<!DOCTYPE html>
<html>
  <head>
    <title>Better Browser: A better web browser</title>
  </head>
  <body>
    <h2>Better Browser</h2>
    <button id='screen-shot'>Take Screenshot</button>
    <span id='screenshot-path'></span>
    <br />
    URL: <input id='web-url' value='google.com'/>
    <button id='web-go'>Go!</button>

    <webview id='web-view' src="http://www.google.com" style="display:inline-flex; width:640px; height:480px; border: 1px solid;"></webview>

    <script>
      const goToUrl = () => {
        const webView = document.getElementById('web-view')
        //TODO: getting errors with this:
        // webView.loadURL(
        //   document.getElementById('web-url').value
        // );
        let url = document.getElementById('web-url').value;
        if (url.indexOf('http://') === -1 && url.indexOf('https://') === -1) {
          url = `http://${url}`
        }
        webView.setAttribute('src', url)
      }

      document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('web-go').addEventListener('click', goToUrl)
        document.getElementById('web-url').addEventListener('keyup', event => {
          if (event.key === "Enter") {
            goToUrl();
          }
        })
      })

      //alert("hey there!")

      // this will appear in dev console
      console.log("index.html loaded")

      // debugger statements will get hit if you refresh the dev console
      // debugger

      require('./renderer')
    </script>
  </body>
</html>
